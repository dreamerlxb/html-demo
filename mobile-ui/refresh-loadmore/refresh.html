<!doctype html>
<!--[if IE 8]><html class="ie8 lt-ie10"><![endif]-->
<!--[if IE 9]><html class="ie9 lt-ie10"><![endif]-->
<!--[if gt IE 9]><!-->
<html lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="cleartype" content="on">
    <meta name="MobileOptimized" content="320">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>下拉刷新</title>
    <link rel="stylesheet" href="../../resources/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="refresh.css">

    <style>
        .spin-icon-load {
            display: inline-block;
            font-style: normal;
            font-weight: 400;
            font-variant: normal;
            text-transform: none;
            text-rendering: auto;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            color: blueviolet;
            animation: ani-demo-spin 1s linear infinite;
        }

        @keyframes ani-demo-spin {
            from {
                transform: rotate(0deg);
            }
            50% {
                transform: rotate(180deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        .refresh {
            transition-property: transform;
            transition-duration: 0.3s;
            transition-timing-function: ease;
        }
    </style>

    <script type="text/javascript" src="../../resources/jquery/jquery-3.2.1.js"></script>
    <script type="text/javascript" src="refresh.js"></script>
    <script type="text/javascript" src="refresh2.js">
    </script>

    <script type="text/javascript">
        $(function () {
            $('#refresh').refresh(function (that) {
                setTimeout(function () { // 模拟刷新
                    that.finishRefresh();
                }, 2000);
            }, function (that) {
                setTimeout(function () { // 模拟刷新
                    that.finishLoadMore();
                }, 2000);
            });
        });
    </script>
</head>

<body>
    <div class="page">
        <!-- 主干 -->
        <main id="panel" class="panel">
            <header class="panel-header bar-header">
                <span style="position:absolute;left: 0.5rem;top: 0;bottom: 0;font-size: 1rem;display:flex;align-content: center; align-items: center;justify-content: center;">
                    <a class="btn-hamburger">Left</a>
                </span>
                <h3 class="btn-hamburger js-slideout-toggle">This is Title</h3>
                <span style="position:absolute;right:0.5rem;top: 0;bottom: 0;font-size: 1rem;display:flex;align-content: center; align-items: center;justify-content: center;">
                    <a class="btn-hamburger">Right</a>
                </span>
            </header>
            <div class="panel-content refresh-container">
                <div id="refresh" >
                    <div class="refresh-layer">
                        <span style="margin-right: 10px;">↓</span>
                        <span>下拉刷新</span>
                    </div>

                    <div class="refresh-content list-block">
                        <ul>
                            <li>
                                <a href="/demos/preloader" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">加载提示</div>
                                    </div>
                                </a>
                            </li>
                        
                            <li>
                                <a href="/demos/actions" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">操作表</div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <a href="/demos/preloader" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">加载提示</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/actions" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">操作表</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/calendar" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">日历</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/picker" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">picker</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/datetime-picker" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">日期时间选择器</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/city-picker" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">省市区选择器</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/swiper" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">幻灯片</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/photo-browser" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">图片浏览器</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/pull-to-refresh" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">下拉刷新</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/infinite-scroll" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">无限滚动</div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <a href="/demos/pull-to-refresh" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">下拉刷新</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/infinite-scroll" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">无限滚动</div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <a href="/demos/pull-to-refresh" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">下拉刷新</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/infinite-scroll" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">无限滚动</div>
                                    </div>
                                </a>
                            </li>

                            <li>
                                <a href="/demos/pull-to-refresh" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">下拉刷新</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/infinite-scroll" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">无限滚动</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/routers/" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">路由器</div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="/demos/icons" class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">图标</div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- ========== 这里以上是内容（修改） ============ -->
                    <div class="loadmore-layer">
                        <span style="margin-right: 10px;"></span>
                        <span>上拉加载</span>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // var a = document.querySelector("#refresh");
        // var f  = new Refresh(a);

        // setTimeout(function () { // 模拟刷新
        //     f.finishRefresh();
        // }, 2000);
        // console.log(a);
        // console.log(a.parentNode.offsetTop);
    </script>
</body>

</html>